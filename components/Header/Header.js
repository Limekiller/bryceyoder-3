import styles from './Header.module.scss'
import Link from 'next/link'
import { useEffect, useState } from 'react'
import { motion } from "framer-motion"

function Header() {
    const [mobileState, setMobileState] = useState('top')
    const [scrollAmount, setscrollAmount] = useState(0)

    useEffect(() => {    
         document.addEventListener('scroll', handleScroll)
         return () => {
            document.removeEventListener('scroll', handleScroll)
         }
    });

    const handleScroll = () => {
        setscrollAmount(document.documentElement.scrollTop);
        if (document.documentElement.scrollTop >= 50) {
            setMobileState('scrolled')
        } else if (document.documentElement.scrollTop <= 10) {
            setMobileState('top')
        }
    }

    return (
        <>
            <motion.header 
                className={`
                    pageContainer
                    ${styles.header}
                    ${styles[mobileState]}
                `}
                animate={{y: [-130, 0]}}
                transition={{ duration: 0.5, delay: 0.5, ease: [0.16, 1, 0.3, 1]}}
            >
                <div className='gridContainer'>
                    
                    <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"
                        viewBox="0 0 3546 1917.2">
                        <style type="text/css">{`
                            .st0{enable-background:new    ;}
                        `}</style>
                        <polygon points="642.9,155.8 642.9,316.5 642.9,477.2 482.1,477.2 482.1,316.5 482.1,155.8 0,155.8 0,316.5 0,1120.1 0,1280.8 
                            160.7,1280.8 642.9,1280.8 803.6,1280.8 803.6,959.4 803.6,798.6 642.9,798.6 321.4,798.6 321.4,959.4 642.9,959.4 642.9,1120.1 
                            160.7,1120.1 160.7,316.5 321.4,316.5 321.4,477.2 321.4,637.9 482.1,637.9 642.9,637.9 803.6,637.9 803.6,477.2 803.6,316.5 
                            964.3,316.5 964.3,1441.5 0,1441.5 0,1602.2 964.3,1602.2 1125,1602.2 1125,1441.5 1125,316.5 1125,155.8 "/>
                        <g className="st0">
                            <path d="M1348.7,161.3h133.1c112.7,0,155.4,52.5,155.4,147.7v24.3c0,91.3-31.1,118.5-60.2,130.2c29.1,11.7,72.9,35.9,72.9,130.2
                                v49.5c0,108.8-45.7,167.1-159.3,167.1h-141.8V161.3z M1471.1,425.5c55.4,0,72.9-17.5,72.9-81.6v-25.3c0-54.4-19.4-74.8-67-74.8
                                h-31.1v181.7H1471.1z M1445.9,728.6h33c58.3,0,71.9-25.3,71.9-88.4v-43.7c0-63.1-15.5-90.3-79.7-90.3h-25.3V728.6z"/>
                        </g>
                        <g className="st0">
                            <path d="M1711.1,161.3H1850c99.1,0,157.4,39.8,157.4,156.4V342c0,100.1-41.8,125.3-66.1,136c36.9,17.5,59.3,44.7,59.3,133.1
                                c0,54.4-1,160.3,5.8,199.2h-97.1c-7.8-38.9-6.8-145.7-6.8-193.3c0-78.7-9.7-97.1-68-97.1h-23.3v290.5h-100.1V161.3z M1811.1,437.2
                                h23.3c52.5,0,71.9-19.4,71.9-90.3v-22.3c0-50.5-9.7-80.6-67-80.6h-28.2V437.2z"/>
                        </g>
                        <g className="st0">
                            <path d="M2157,810.2V580c0-7.8-1-12.6-2.9-21.4l-121.4-397.3h110.7c26.2,104.9,55.4,226.4,66.1,297.3h1
                                c12.6-76.7,41.8-193.3,66.1-297.3h106.9L2259,567.3c-1,3.9-1.9,10.7-1.9,24.3v218.6H2157z"/>
                            <path d="M2701,615.9v25.3c0,74.8-12.6,178.8-149.6,178.8c-120.5,0-145.7-75.8-145.7-173.9V318.6c0-100.1,45.7-167.1,147.7-167.1
                                c121.4,0,144.8,80.6,144.8,171v29.1H2598v-40.8c0-43.7-10.7-68-45.7-68c-34,0-44.7,23.3-44.7,68v342.9c0,42.7,8.7,75.8,46.6,75.8
                                c35.9,0,45.7-29.1,45.7-76.7v-36.9H2701z"/>
                            <path d="M3001.2,513.9h-142.8v204h165.2l-12.6,92.3h-252.6V161.3h250.6v93.3h-150.6v167.1h142.8V513.9z"/>
                        </g>
                        <g className="st0">
                            <path d="M1475.6,1604.3v-230.2c0-7.8-1-12.6-2.9-21.4l-121.4-397.3H1462c26.2,104.9,55.4,226.4,66.1,297.3h1
                                c12.6-76.7,41.8-193.3,66.1-297.3h106.9l-124.3,406.1c-1,3.9-1.9,10.7-1.9,24.3v218.6H1475.6z"/>
                            <path d="M2040,1127.3v303.1c0,124.3-52.5,183.6-163.2,183.6c-104.9,0-152.5-60.2-152.5-181.7v-305c0-124.3,62.2-181.7,159.3-181.7
                                C1981.7,945.7,2040,1003,2040,1127.3z M1826.3,1117.6V1444c0,54.4,19.4,79.7,55.4,79.7c38.9,0,56.3-24.3,56.3-80.6v-326.4
                                c0-51.5-15.5-79.7-56.3-79.7C1845.7,1037,1826.3,1063.2,1826.3,1117.6z"/>
                        </g>
                        <g className="st0">
                            <path d="M2113.8,955.4h138.9c138,0,171,70.9,171,191.4v249.7c0,99.1-16.5,207.9-171,207.9h-138.9V955.4z M2213.9,1518.8h32.1
                                c66.1,0,75.8-41.8,75.8-108.8v-271c0-59.3-9.7-97.1-75.8-97.1h-32.1V1518.8z"/>
                        </g>
                        <g className="st0">
                            <path d="M2738.5,1308h-142.8v204h165.2l-12.6,92.3h-252.6v-649h250.6v93.3h-150.6v167.1h142.8V1308z"/>
                        </g>
                        <g className="st0">
                            <path d="M2811.3,955.4h138.9c99.1,0,157.4,39.8,157.4,156.4v24.3c0,100.1-41.8,125.3-66.1,136c36.9,17.5,59.3,44.7,59.3,133.1
                                c0,54.4-1,160.3,5.8,199.2h-97.1c-7.8-38.9-6.8-145.7-6.8-193.3c0-78.7-9.7-97.1-68-97.1h-23.3v290.5h-100.1V955.4z M2911.4,1231.3
                                h23.3c52.5,0,71.9-19.4,71.9-90.3v-22.3c0-50.5-9.7-80.6-67-80.6h-28.2V1231.3z"/>
                        </g>
                    </svg>


                    <nav className={` ${styles.nav} ${styles[mobileState]} `}>
                        <Link rel='canonical' href='/' scroll={false}><a className=''>About</a></Link>
                        <Link rel='canonical' href='/work' scroll={false}><a className=''>Work</a></Link>
                        <div className={styles.socialIcons}>
                            <a title='LinkedIn' target='_blank' href='https://www.linkedin.com/in/bryce-yoder-283503126/'><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg></a>
                            <a title='GitHub' target='_blank' href='https://github.com/limekiller'><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg></a>
                            <a title='Email' href='mailto:me@bryceyoder.com'><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M464 64C490.5 64 512 85.49 512 112C512 127.1 504.9 141.3 492.8 150.4L275.2 313.6C263.8 322.1 248.2 322.1 236.8 313.6L19.2 150.4C7.113 141.3 0 127.1 0 112C0 85.49 21.49 64 48 64H464zM217.6 339.2C240.4 356.3 271.6 356.3 294.4 339.2L512 176V384C512 419.3 483.3 448 448 448H64C28.65 448 0 419.3 0 384V176L217.6 339.2z"/></svg></a>
                        </div>
                    </nav>
                </div>
            </motion.header>
        </>
    )
}

export default Header
